# 健身平台数据库实体类更新说明

## 更新日期：2025-01-24

## 项目信息
- Spring Boot 版本：3.0.5
- MyBatis-Plus 版本：3.5.3.1
- 项目架构：单体B/S架构

## 更新内容概述

本次根据整合后的SQL文件（fitness_platform_all_in_one.sql）创建和更新了项目中的实体类，包含三大模块共42个数据表对应的实体类。

## 一、基础功能模块实体类

### 1. 新创建的实体类
- `User.java` - 用户表（对应 user 表）
- `Role.java` - 角色表（对应 role 表）
- `Coach.java` - 教练信息表（对应 coach 表）
- `HealthRecord.java` - 健康档案表（对应 health_record 表）
- `BodyMeasurement.java` - 体测记录表（对应 body_measurement 表）
- `CourseCategory.java` - 课程分类表（对应 course_category 表）
- `Course.java` - 课程表（对应 course 表）
- `CourseSchedule.java` - 课程排期表（对应 course_schedule 表）
- `CourseEnrollment.java` - 课程报名表（对应 course_enrollment 表）
- `ExercisePlan.java` - 运动计划表（对应 exercise_plan 表）

### 2. 修改的实体类
- `UserRole.java` - 修改为用户角色关联表结构（对应 user_role 表）
- `ExerciseRecord.java` - 修改字段以匹配 exercise_record 表结构

## 二、教练业务优化模块实体类

### 新创建的实体类
- `CoachAvailability.java` - 教练可用时间表（对应 coach_availability 表）
- `CoachScheduleChange.java` - 教练日程变更申请表（对应 coach_schedule_change 表）
- `CoachCertificationApply.java` - 教练认证申请表（对应 coach_certification_apply 表）
- `CoachService.java` - 教练服务项目表（对应 coach_service 表）

### 未创建但在SQL中存在的表
- coach_resignation_apply - 教练离职申请表
- coach_consultation - 教练咨询预约表
- coach_evaluation - 教练评价表
- coach_income - 教练收入记录表
- coach_settlement - 教练收入结算表

## 三、健康科普文章模块实体类

### 1. 修改的实体类
- `ArticleCategory.java` - 更新为匹配 article_category 表结构
- `HealthArticle.java` - 完全重构以匹配 health_article 表结构

### 2. 新创建的实体类
- `ArticleAuditLog.java` - 文章审核记录表（对应 article_audit_log 表）
- `ArticleLike.java` - 文章点赞表（对应 article_like 表）
- `ArticleCollect.java` - 文章收藏表（对应 article_collect 表）
- `ArticleCollectFolder.java` - 文章收藏夹表（对应 article_collect_folder 表）
- `ArticleComment.java` - 文章评论表（对应 article_comment 表）

### 3. 未创建但在SQL中存在的表
- article_view_log - 文章浏览记录表
- article_share_log - 文章分享记录表

## 四、其他基础表（SQL中存在但未创建实体类）

- food_database - 食物数据库表
- diet_record - 饮食记录表
- post - 动态表
- comment - 评论表
- like_record - 点赞表
- follow - 关注表
- order_info - 订单表
- order_detail - 订单详情表
- payment_record - 支付记录表（已存在 PaymentRecord.java）
- refund_record - 退款记录表
- system_config - 系统配置表（已存在 SystemConfig.java）
- operation_log - 操作日志表

## 注意事项

1. 所有实体类都继承自 `BaseEntity` 基类，该基类包含了 id、createTime、updateTime、isDeleted 等公共字段。

2. 实体类使用了以下注解：
   - `@TableName` - 指定对应的数据库表名
   - `@TableField` - 指定字段映射关系
   - `@Schema` - Swagger文档描述
   - `@Data` - Lombok注解自动生成getter/setter

3. 字段类型映射：
   - bigint → Long
   - varchar → String
   - decimal → BigDecimal
   - int/tinyint → Integer
   - date → LocalDate
   - datetime → LocalDateTime
   - time → LocalTime
   - json → String（JSON格式存储）

4. 建议后续根据业务需要继续创建剩余的实体类，确保数据库表和Java实体类的一一对应关系。

## 下一步建议

1. 创建剩余未实现的实体类
2. 为每个实体类创建对应的Mapper接口
3. 创建Service层接口和实现类
4. 根据业务需求添加DTO和VO类
5. 配置MyBatis-Plus的相关配置（分页、逻辑删除等）