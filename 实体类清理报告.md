# 健身平台实体类清理报告

## 清理日期：2025-01-24

## 清理背景
在SQL文件迭代后，项目中存在一些不对应SQL文件中表结构的实体类，这些实体类可能是早期版本遗留的无用文件。为保持代码整洁和一致性，需要清理这些多余的实体类。

## 清理过程

### 1. 分析对比
- **SQL文件表数量**：42个表
- **清理前实体类数量**：38个（包含BaseEntity.java）
- **清理后实体类数量**：26个（包含BaseEntity.java）

### 2. SQL文件中的表结构（42个表）
按模块分类：

#### 基础功能模块（24个表）
1. user - 用户表
2. role - 角色表 
3. user_role - 用户角色关联表
4. coach - 教练信息表
5. health_record - 健康档案表
6. body_measurement - 体测记录表
7. course_category - 课程分类表
8. course - 课程表
9. course_schedule - 课程排期表
10. course_enrollment - 课程报名表
11. exercise_record - 运动记录表
12. exercise_plan - 运动计划表
13. food_database - 食物数据库表
14. diet_record - 饮食记录表
15. post - 动态表
16. comment - 评论表
17. like_record - 点赞表
18. follow - 关注表
19. order_info - 订单表
20. order_detail - 订单详情表
21. payment_record - 支付记录表
22. refund_record - 退款记录表
23. system_config - 系统配置表
24. operation_log - 操作日志表

#### 教练业务优化模块（9个表）
25. coach_availability - 教练可用时间表
26. coach_schedule_change - 教练日程变更申请表
27. coach_certification_apply - 教练认证申请表
28. coach_resignation_apply - 教练离职申请表
29. coach_service - 教练服务项目表
30. coach_consultation - 教练咨询预约表
31. coach_evaluation - 教练评价表
32. coach_income - 教练收入记录表
33. coach_settlement - 教练收入结算表

#### 健康科普文章模块（9个表）
34. article_category - 文章分类表
35. health_article - 健康科普文章表
36. article_audit_log - 文章审核记录表
37. article_view_log - 文章浏览记录表
38. article_like - 文章点赞表
39. article_collect - 文章收藏表
40. article_collect_folder - 文章收藏夹表
41. article_share_log - 文章分享记录表
42. article_comment - 文章评论表

### 3. 已删除的多余实体类（12个）

| 实体类文件名 | 原预期对应表名 | 删除原因 | 正确的表名 |
|---|---|---|---|
| CityInfo.java | city_info | SQL中无此表 | - |
| FitnessPlan.java | fitness_plan | SQL中无此表 | exercise_plan |
| FoodNutrition.java | food_nutrition | SQL中无此表 | food_database |
| HealthIndicatorRecord.java | health_indicator_record | SQL中无此表 | - |
| SportType.java | sport_type | SQL中无此表 | - |
| UserDietRecord.java | user_diet_record | SQL中无此表 | diet_record |
| UserFollow.java | user_follow | SQL中无此表 | follow |
| UserHealthProfile.java | user_health_profile | SQL中无此表 | - |
| UserInfo.java | user_info | SQL中无此表 | user |
| UserMoment.java | user_moment | SQL中无此表 | post |
| UserNotification.java | user_notification | SQL中无此表 | - |
| UserNutritionGoal.java | user_nutrition_goal | SQL中无此表 | - |

### 4. 保留的实体类（25个 + BaseEntity）

#### 与SQL表对应的实体类：
1. **BaseEntity.java** - 基础实体类（不对应表，被其他实体继承）
2. **User.java** - user表
3. **Role.java** - role表  
4. **UserRole.java** - user_role表
5. **Coach.java** - coach表
6. **HealthRecord.java** - health_record表
7. **BodyMeasurement.java** - body_measurement表
8. **CourseCategory.java** - course_category表
9. **Course.java** - course表
10. **CourseSchedule.java** - course_schedule表
11. **CourseEnrollment.java** - course_enrollment表
12. **ExerciseRecord.java** - exercise_record表
13. **ExercisePlan.java** - exercise_plan表
14. **PaymentRecord.java** - payment_record表
15. **SystemConfig.java** - system_config表
16. **CoachAvailability.java** - coach_availability表
17. **CoachCertificationApply.java** - coach_certification_apply表
18. **CoachScheduleChange.java** - coach_schedule_change表
19. **CoachService.java** - coach_service表
20. **ArticleCategory.java** - article_category表
21. **HealthArticle.java** - health_article表
22. **ArticleAuditLog.java** - article_audit_log表
23. **ArticleLike.java** - article_like表
24. **ArticleCollect.java** - article_collect表
25. **ArticleCollectFolder.java** - article_collect_folder表
26. **ArticleComment.java** - article_comment表

## 清理结果总结

### ✅ 成功清理
- **删除了12个多余的实体类**
- **保留了26个有效的实体类**（包含BaseEntity）
- **确保了所有保留的实体类都与SQL文件中的表结构对应**

### 📋 还需要创建的实体类
根据SQL文件，以下表还没有对应的实体类，后续可按需创建：

#### 基础功能模块
- food_database → FoodDatabase.java
- diet_record → DietRecord.java  
- post → Post.java
- comment → Comment.java
- like_record → LikeRecord.java
- follow → Follow.java
- order_info → OrderInfo.java
- order_detail → OrderDetail.java
- refund_record → RefundRecord.java
- operation_log → OperationLog.java

#### 教练业务优化模块
- coach_resignation_apply → CoachResignationApply.java
- coach_consultation → CoachConsultation.java
- coach_evaluation → CoachEvaluation.java
- coach_income → CoachIncome.java
- coach_settlement → CoachSettlement.java

#### 健康科普文章模块
- article_view_log → ArticleViewLog.java
- article_share_log → ArticleShareLog.java

## 清理后的优势

1. **代码一致性**：所有实体类都与数据库表结构对应
2. **项目整洁**：移除了无用的文件，减少了维护负担
3. **避免混淆**：开发者不会被无关的实体类误导
4. **便于维护**：后续数据库变更时，实体类结构更加清晰

## 注意事项

1. 如果项目中有其他代码引用了被删除的实体类，需要及时修改相关引用
2. 建议在删除前备份，以防万一需要恢复某些实体类的特定字段或逻辑
3. 后续如需要创建上述缺失的实体类，请参照现有实体类的编码规范进行创建