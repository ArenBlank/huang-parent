# Knife4j快速测试清单

## 🚀 快速验证步骤

### Admin端 (http://localhost:8080/doc.html)

**✅ 基础功能验证清单:**

1. **[ ] 角色管理基础功能**
   - 访问 `角色管理` → `角色列表查询` → 点击"试一试" → 执行
   - 预期：返回角色列表数据

2. **[ ] 用户管理基础功能** 
   - 访问 `用户管理` → `用户列表查询` → 点击"试一试" → 执行
   - 预期：返回用户列表数据

3. **[ ] 用户角色分配功能**
   - 访问 `用户角色管理` → `用户角色分配（表单格式）`
   - 输入: `userId: 1`, `roleIds: 2,3` → 执行
   - 预期：分配成功

### App端 (http://localhost:8081/doc.html) 

**✅ 基础功能验证清单:**

1. **[ ] 短信验证码功能**
   - 访问 `01-用户认证` → `发送短信验证码`
   - 使用默认参数 → 点击"试一试" → 执行
   - 预期：发送成功，控制台显示123456

2. **[ ] 用户注册功能**
   - 先发送验证码（上一步）
   - 访问 `用户注册`，修改username避免重复
   - 使用smsCode: 123456 → 执行
   - 预期：注册成功

3. **[ ] 用户登录功能**
   - 访问 `用户登录`
   - 使用刚注册的用户名和密码 → 执行
   - 预期：登录成功，获得token

4. **[ ] 个人信息功能**
   - 复制上一步获得的accessToken
   - 访问 `02-个人信息管理` → `获取个人信息`
   - 在页面顶部"Authorize"按钮中输入: `Bearer {token}`
   - 执行接口
   - 预期：返回用户信息

5. **[ ] 角色查询功能**
   - 访问 `12-角色管理` → `角色列表查询`
   - 使用默认参数 → 执行
   - 预期：返回角色列表

---

## 📝 重要测试参数备忘

### 固定测试数据
- **验证码**: `123456` (开发模式固定值)
- **测试手机号**: `13888888888`, `13800138002`
- **测试密码**: `123456`

### 常用参数模板

#### 注册参数模板:
```json
{
  "username": "testuser_001",
  "phone": "13800138002",
  "password": "123456",
  "confirmPassword": "123456",
  "smsCode": "123456",
  "nickname": "测试用户001",
  "email": "testuser001@example.com",
  "gender": 1
}
```

#### 登录参数模板:
```json
{
  "account": "testuser_001",
  "password": "123456",
  "loginType": "password",
  "deviceId": "device_001", 
  "deviceType": "web"
}
```

---

## 🔧 Knife4j使用技巧

### 1. Authorization设置
当需要token认证的接口时：
1. 点击页面右上角的 `Authorize` 按钮
2. 输入：`Bearer {你的token}` 
3. 点击确认，后续接口会自动携带token

### 2. 参数修改技巧
- **直接修改示例**: 点击参数框，直接修改JSON内容
- **逐个修改**: 使用表单模式逐个填写参数
- **复制粘贴**: 从文档复制完整JSON参数

### 3. 响应查看
- **Response**: 查看返回的JSON数据
- **Headers**: 查看响应头信息
- **Curl**: 复制等价的curl命令

### 4. 错误调试
- 如果返回400错误，检查参数格式
- 如果返回401错误，检查token是否正确设置
- 查看Response部分的详细错误信息

---

## ⚡ 5分钟快速测试流程

**Admin端 (2分钟):**
1. 打开 http://localhost:8080/doc.html
2. 测试角色列表查询 (30秒)
3. 测试用户列表查询 (30秒)  
4. 测试用户角色分配 (1分钟)

**App端 (3分钟):**
1. 打开 http://localhost:8081/doc.html
2. 发送验证码 → 注册用户 (1分钟)
3. 用户登录获取token (30秒)
4. 设置Authorization后测试个人信息 (1分钟)
5. 测试角色列表查询 (30秒)

---

## 📋 测试结果记录

### Admin端测试结果:
- [ ] 角色列表查询: ✅成功 / ❌失败
- [ ] 用户列表查询: ✅成功 / ❌失败  
- [ ] 用户角色分配: ✅成功 / ❌失败

### App端测试结果:
- [ ] 发送验证码: ✅成功 / ❌失败
- [ ] 用户注册: ✅成功 / ❌失败
- [ ] 用户登录: ✅成功 / ❌失败
- [ ] 个人信息: ✅成功 / ❌失败
- [ ] 角色查询: ✅成功 / ❌失败

---

## 🆘 常见问题快速解决

### Q: 验证码发送失败？
**A**: 检查手机号格式，确保是1开头的11位数字

### Q: 用户注册失败？ 
**A**: 更换username，避免重复；确保smsCode使用123456

### Q: 登录后个人信息接口401？
**A**: 检查Authorization是否正确设置为 `Bearer {token}`

### Q: 角色分配失败？
**A**: 确保userId和roleIds都存在于数据库中

### Q: 接口返回空数据？
**A**: 检查数据库是否已初始化，是否有测试数据